<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Punjabi Wedding MC</title>
<style>
  body, html {
    margin: 0; padding: 0;
    height: 100%; width: 100%;
    font-family: Garamond, serif;
  }
  /* Splash Screen */
  #splash {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: #fff;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 10000;
    transition: opacity 1s ease;
    overflow: hidden;
  }
  #splash.hidden { opacity: 0; pointer-events: none; }

  #splash img {
    max-width: 100%; max-height: 80%;
    object-fit: contain;
  }
  #splash h1.bg-text {
    position: absolute;
    font-size: 5vw;
    color: blue;
    opacity: 0.1;
    top: 50%;
    transform: translateY(-50%);
    white-space: nowrap;
    z-index: 0;
  }
  #enterBtn {
    margin-top: 20px;
    background: blue;
    color: white;
    border: none;
    padding: 15px 30px;
    font-size: 1.5em;
    cursor: pointer;
    border-radius: 8px;
    z-index: 1;
  }
  /* audio toggle button (only shows above splash) */
  .audio-toggle{
    position:fixed; top:12px; right:12px; z-index:10001;
    background:rgba(0,0,0,.35); color:#fff; border:0; border-radius:10px;
    padding:8px 10px; font-size:18px; line-height:1; cursor:pointer;
    backdrop-filter: blur(4px);
  }
  body.reveal .audio-toggle{ display:none; }
  .audio-toggle[aria-pressed="true"]{ background:rgba(13,110,253,.85); }

  /* Main site content after reveal */
  body.reveal #mainContent { display: block; }
  #mainContent { display: none; background: #FFD54F; padding: 20px; }
  header {
    display: flex; justify-content: center; gap: 20px;
    background: maroon; padding: 10px 0;
  }
  header a {
    color: white; text-decoration: none; font-family: Oswald, sans-serif;
    padding: 10px 20px; background: maroon;
  }
  h1.welcome { font-family: Raleway, sans-serif; }
  h2.site-name { font-family: Satisfy, cursive; }
</style>
</head>
<body>

<!-- Splash Screen -->
<div id="splash">
  <h1 class="bg-text">#1 ENTERTAINER</h1>
  <img src="splash.png" alt="Splash Image">
  <button id="enterBtn">Enter the Website</button>
</div>

<!-- Splash audio -->
<audio id="splashAudio" src="splash.mp3" preload="auto"></audio>
<button id="audioToggle" class="audio-toggle" aria-pressed="true" aria-label="Toggle splash sound">ðŸ”Š</button>

<!-- Main Site -->
<div id="mainContent">
  <header>
    <a href="#">Home</a>
    <a href="#">Services</a>
    <a href="#">Pricing</a>
    <a href="#">Contact Us</a>
  </header>
  <h1 class="welcome">Welcome to</h1>
  <h2 class="site-name">Punjabi Wedding MC</h2>
  <p>My name is Arrjun Singh, one of the top entertainers in the Pacific Northwest and United States.
  I have traveled internationally for weddings in Mexico, Sri Lanka, Canada, and India.
  I am also a singer-songwriter with over 20 singles, one album, and one EP on platforms like Apple Music and Spotify.
  Additionally, I run an audio-video podcast on YouTube and Spotify called 'Growing with Arrjun'.</p>
</div>

<script>
(function(){
  const splash = document.getElementById('splash');
  const enterBtn = document.getElementById('enterBtn');
  const audio = document.getElementById('splashAudio');
  const toggle = document.getElementById('audioToggle');

  let soundOn = true;

  function tryPlayAudio(){
    if (!soundOn) return;
    audio.volume = 1;
    audio.loop = true; // LOOP while splash is visible
    audio.play().catch(() => {
      // If blocked (mobile autoplay policy), start on first interaction
      const kick = () => { 
        if (soundOn) {
          audio.loop = true;
          audio.play().catch(()=>{});
        }
        document.removeEventListener('click', kick);
      };
      document.addEventListener('click', kick, { once:true });
    });
  }

  // Start audio immediately on splash load
  tryPlayAudio();

  // Audio toggle
  toggle.addEventListener('click', () => {
    soundOn = !soundOn;
    toggle.setAttribute('aria-pressed', soundOn ? 'true' : 'false');
    if (!soundOn) {
      audio.pause();
    } else {
      tryPlayAudio();
    }
  });

  function fadeOutAudio(){
    if (audio && !audio.paused){
      const step = 0.07;
      const iv = setInterval(()=>{
        audio.volume = Math.max(0, audio.volume - step);
        if (audio.volume <= 0.05){
          clearInterval(iv);
          audio.pause();
          audio.volume = 1;
        }
      }, 60);
    }
  }

  function enterSite(e){
    if (e) e.preventDefault();
    splash.classList.add('hidden');
    document.body.classList.add('reveal');
    fadeOutAudio();
  }

  enterBtn.addEventListener('click', enterSite, {passive:false});
  document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') enterSite(e); });
})();
</script>

</body>
</html>
